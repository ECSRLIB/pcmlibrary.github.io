<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCM Library Database</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Smooth transition for filter section changes */
        .filter-section {
            transition: all 0.3s ease;
        }
        /* Loading indicator styling - hidden by default */
        #loading {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header Section -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-800 text-white">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div>
                    <h1 class="text-3xl md:text-4xl font-bold mb-2">Advanced PCM Database</h1>
                    <p class="text-blue-100">2000+ Organic/Inorganic Salt Hydrates & Eutectics</p>
                    <p class="text-blue-100 text-sm mt-1">Complete property details including thermal conductivity and cost</p>
                </div>
                <!-- Image for the header - ensure the file is in the same directory -->
                <img src="WhatsApp Image 2025-07-27 at 14.54.26.jpeg" alt="Stylized representation of Phase Change Materials" class="mt-4 md:mt-0 rounded-lg shadow-lg h-auto w-32 md:w-48">
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto px-4 py-8">
        <!-- About Section -->
        <section class="mb-6">
            <div class="bg-white p-5 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-3 text-gray-800">About This Database</h2>
                <p class="text-gray-600 mb-3">
                    Comprehensive database of 2000+ phase change materials including organic compounds,
                    inorganic salt hydrates, and eutectic mixtures. Includes detailed thermophysical properties
                    and market pricing data. Use the advanced filters to find materials matching your exact
                    thermal, physical and economic requirements.
                </p>
                <div class="bg-blue-50 p-4 rounded border border-blue-100">
                    <p class="text-blue-800 text-sm">Note: All material properties are based on experimental data
                    from peer-reviewed sources. Future updates will include additional materials and properties.</p>
                </div>
            </div>
        </section>

        <!-- Filter Section -->
        <section class="mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md filter-section">
                <h2 class="text-2xl font-semibold mb-4 text-gray-800">Filter Materials</h2>
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                    <div>
                        <label for="type-filter" class="block text-gray-700 mb-2">Material Type</label>
                        <select id="type-filter" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500">
                            <option value="all">All Types</option>
                            <option value="organic">Organic</option>
                            <option value="inorganic">Inorganic</option>
                            <option value="eutectic">Eutectic</option>
                        </select>
                    </div>
                    <div>
                        <label for="temp-min" class="block text-gray-700 mb-2">Temp Min (°C)</label>
                        <input type="number" id="temp-min" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="-50">
                    </div>
                    <div>
                        <label for="temp-max" class="block text-gray-700 mb-2">Temp Max (°C)</label>
                        <input type="number" id="temp-max" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="150">
                    </div>
                    <div>
                        <label for="heat-min" class="block text-gray-700 mb-2">Latent Heat Min (kJ/kg)</label>
                        <input type="number" id="heat-min" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="0">
                    </div>
                    <div>
                        <label for="heat-max" class="block text-gray-700 mb-2">Latent Heat Max (kJ/kg)</label>
                        <input type="number" id="heat-max" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="400">
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-4">
                    <div>
                        <label for="conduct-min" class="block text-gray-700 mb-2">Thermal Conduct. Min (W/m·K)</label>
                        <input type="number" id="conduct-min" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="0.1" step="0.01">
                    </div>
                    <div>
                        <label for="conduct-max" class="block text-gray-700 mb-2">Thermal Conduct. Max (W/m·K)</label>
                        <input type="number" id="conduct-max" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="5.0" step="0.01">
                    </div>
                    <div>
                        <label for="cost-min" class="block text-gray-700 mb-2">Cost Min ($/kg)</label>
                        <input type="number" id="cost-min" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="0" step="0.01">
                    </div>
                    <div>
                        <label for="cost-max" class="block text-gray-700 mb-2">Cost Max ($/kg)</label>
                        <input type="number" id="cost-max" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" placeholder="50" step="0.01">
                    </div>
                </div>
                <button id="filter-btn" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded shadow-md hover:shadow-lg transition-all duration-200">
                    Apply Filters
                </button>
                <button id="reset-btn" class="mt-4 ml-2 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded shadow-md hover:shadow-lg transition-all duration-200">
                    Reset Filters
                </button>
                   <button id="clear-all-btn" class="mt-4 ml-2 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded shadow-md hover:shadow-lg transition-all duration-200">
                    Clear All
                </button>
            </div>
        </section>

        <!-- Materials Table Section -->
        <section class="mb-8">
            <div class="flex flex-col sm:flex-row justify-between items-center mb-4">
                <h2 class="text-2xl font-semibold text-gray-800 mb-2 sm:mb-0">Phase Change Materials</h2>
                <div class="flex items-center">
                    <span id="result-count" class="text-gray-600 mr-3 whitespace-nowrap">2000+ materials available</span>
                    <div id="loading" class="flex items-center">
                        <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"></div>
                        <span class="ml-2 text-gray-600">Loading...</span>
                    </div>
                </div>
            </div>

            <div class="overflow-x-auto rounded-lg shadow-md">
                <table class="min-w-full bg-white">
                    <thead class="bg-gray-100 border-b border-gray-200">
                        <tr>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Name</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Type</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Temperature [°C]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Latent Heat [kJ/kg]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Specific Heat (Solid/Liquid) [kJ/kg·K]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Density (Solid/Liquid) [kg/m³]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Expansivity [x10⁻⁶]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Energy Density [kJ/m³]</th>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 whitespace-nowrap">Cost [$]</th>
                        </tr>
                    </thead>
                    <tbody id="materials-list" class="divide-y divide-gray-200">
                        <!-- Sample data rows - replace with your full dataset or load dynamically -->
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="-12" data-heat="216" data-conduct="0.23" data-cost="0.23">
                            <td class="py-3 px-4">n-Dodecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">-12</td>
                            <td class="py-3 px-4">216</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">750 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.23(s)</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="-6" data-heat="NaN" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tridecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">-6</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="4.5-5.6" data-heat="201" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tetradecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">4.5-5.6</td>
                            <td class="py-3 px-4">201</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">772 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="10" data-heat="207" data-conduct="0.17" data-cost="0.17">
                            <td class="py-3 px-4">n-Pentadecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">10</td>
                            <td class="py-3 px-4">207</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">768 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.17</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="18.2" data-heat="208" data-conduct="0.21" data-cost="0.21">
                            <td class="py-3 px-4">n-Hexadecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">18.2</td>
                            <td class="py-3 px-4">208</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">774 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.21(s)</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="22" data-heat="215" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Heptadecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">22</td>
                            <td class="py-3 px-4">215</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">778 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="28.2" data-heat="245" data-conduct="0.35" data-cost="0.35">
                            <td class="py-3 px-4">n-Octadecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">28.2</td>
                            <td class="py-3 px-4">245</td>
                            <td class="py-3 px-4">2.14(s) / 2.66(l)</td>
                            <td class="py-3 px-4">814(s) / 775(l)</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.35(s), 0.149(l)</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="31.9" data-heat="222" data-conduct="0.21" data-cost="0.21">
                            <td class="py-3 px-4">n-Nonadecane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">31.9</td>
                            <td class="py-3 px-4">222</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">823(s) / 769(l)</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.21(s)</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="37" data-heat="247" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Eicosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">37</td>
                            <td class="py-3 px-4">247</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="41" data-heat="215" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Heneicosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">41</td>
                            <td class="py-3 px-4">215</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <!-- More organic rows for pagination test -->
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="44" data-heat="249" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Docosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">44</td>
                            <td class="py-3 px-4">249</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="47" data-heat="204" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tricosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">47</td>
                            <td class="py-3 px-4">204</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="51" data-heat="255" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tetracosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">51</td>
                            <td class="py-3 px-4">255</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="54" data-heat="208" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Pentacosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">54</td>
                            <td class="py-3 px-4">208</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="56" data-heat="257" data-conduct="0.21" data-cost="0.21">
                            <td class="py-3 px-4">n-Hexacosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">56</td>
                            <td class="py-3 px-4">257</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">770 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">0.21(s)</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="59" data-heat="206" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Heptacosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">59</td>
                            <td class="py-3 px-4">206</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">773 / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="61" data-heat="255" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Octacosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">61</td>
                            <td class="py-3 px-4">255</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">820(s) / 765(l)</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="64" data-heat="240" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Nonacosane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">64</td>
                            <td class="py-3 px-4">240</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="65" data-heat="252" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Triacontane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">65</td>
                            <td class="py-3 px-4">252</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="68" data-heat="242" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Hentriacontane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">68</td>
                            <td class="py-3 px-4">242</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">830(s) / 800(l)</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="70" data-heat="170" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Ditriacontane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">70</td>
                            <td class="py-3 px-4">170</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="71" data-heat="189" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tritriacontane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">71</td>
                            <td class="py-3 px-4">189</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="organic" data-temp="75.9" data-heat="269" data-conduct="NaN" data-cost="NaN">
                            <td class="py-3 px-4">n-Tetratriacontane</td>
                            <td class="py-3 px-4">Organic</td>
                            <td class="py-3 px-4">75.9</td>
                            <td class="py-3 px-4">269</td>
                            <td class="py-3 px-4">NaN / NaN</td>
                            <td class="py-3 px-4">772.8(s) / NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                            <td class="py-3 px-4">NaN</td>
                        </tr>
                        <tr class="hover:bg-gray-50 material-row" data-type="inorganic" data-temp="29" data-heat="191" data-conduct="0.35" data-cost="1.20">
                            <td class="py-3 px-4">Calcium Chloride Hexahydrate</td>
                            <td class="py-3 px-4">Inorganic</td>
                            <td class="py-3 px-4">29</td>
                            <td class="py-3 px-4">191</td>
                            <td class="py-3 px-4">1.4 / 2.1</td>
                            <td class="py-3 px-4">1710 / 1560</td>
                            <td class="py-3 px-4">18</td>
                            <td class="py-3 px-4">326,600</td>
                            <td class="py-3 px-4">1.20</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination Controls -->
            <div id="pagination-controls" class="flex justify-center mt-6 space-x-2">
                <button id="prev-page" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">Previous</button>
                <div id="page-numbers" class="flex space-x-2 items-center">
                    <!-- Page number buttons will be dynamically inserted here by JavaScript -->
                </div>
                <button id="next-page" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">Next</button>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4">
            <div class="text-center space-y-1">
                <h3 class="text-lg font-semibold">PCM Library</h3>
                <p class="text-gray-300">Thermal energy storage solutions database</p>
                <p class="text-gray-400 text-sm">Developed by Sonu Singh (M.Tech) at ECSR Lab</p>
                <p class="text-gray-400 text-sm">Supervised by Dr. Shobhana Singh</p>
            </div>
            <div class="mt-4 pt-4 border-t border-gray-700 text-center text-gray-400 text-sm">
                <p>© 2025 PCM Library. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Get references to all necessary DOM elements
        const materialsList = document.getElementById('materials-list');
        const resultCountSpan = document.getElementById('result-count');
        const loadingDiv = document.getElementById('loading');
        const filterBtn = document.getElementById('filter-btn');
        const resetBtn = document.getElementById('reset-btn');
        const clearAllBtn = document.getElementById('clear-all-btn');

        const typeFilter = document.getElementById('type-filter');
        const tempMinInput = document.getElementById('temp-min');
        const tempMaxInput = document.getElementById('temp-max');
        const heatMinInput = document.getElementById('heat-min');
        const heatMaxInput = document.getElementById('heat-max');
        const conductMinInput = document.getElementById('conduct-min');
        const conductMaxInput = document.getElementById('conduct-max');
        const costMinInput = document.getElementById('cost-min');
        const costMaxInput = document.getElementById('cost-max');

        const paginationControls = document.getElementById('pagination-controls');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const pageNumbersDiv = document.getElementById('page-numbers');

        // Pagination settings: 10 items per page
        const itemsPerPage = 10;
        let currentPage = 1;

        // Arrays to hold all original material rows and currently filtered rows
        let allMaterialRows = [];
        let filteredMaterialRows = [];

        /**
         * Parses a temperature string, handling single numerical values and ranges (e.g., "4.5-5.6").
         * Returns the numeric temperature or the average for ranges.
         * Returns NaN if parsing fails.
         */
        function parseTemperature(tempStr) {
            if (typeof tempStr !== 'string') {
                return parseFloat(tempStr); // If it's already a number, just parse it
            }
            const parts = tempStr.split('-');
            if (parts.length === 2) {
                // For ranges, calculate the average for filtering purposes
                return (parseFloat(parts[0]) + parseFloat(parts[1])) / 2;
            }
            // For single values or unparseable strings, return parseFloat result (could be NaN)
            return parseFloat(tempStr);
        }

        // --- Event Listeners ---
        // Initialize the table and pagination when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Collect all material rows initially present in the HTML table
            allMaterialRows = Array.from(document.querySelectorAll('.material-row'));
            // Apply filters (initially no filters, so all data) and render pagination for the first view
            applyFiltersAndPaginate();
        });

        // Event listeners for filter and pagination buttons
        filterBtn.addEventListener('click', applyFiltersAndPaginate);
        resetBtn.addEventListener('click', resetFilters);
        clearAllBtn.addEventListener('click', clearAllFilters);

        prevPageBtn.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderMaterials();
                renderPaginationControls();
            }
        });

        nextPageBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(filteredMaterialRows.length / itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderMaterials();
                renderPaginationControls();
            }
        });

        // --- Core Filtering and Pagination Functions ---

        /**
         * Applies all active filters to the material data.
         * It updates the `filteredMaterialRows` array and then triggers rendering.
         */
        function applyFiltersAndPaginate() {
            loadingDiv.style.display = 'flex'; // Show loading indicator

            // Use a short timeout to allow the loading indicator to display before heavy processing
            setTimeout(() => {
                // Get current values from all filter input fields
                const typeFilterValue = typeFilter.value;
                // Parse numerical inputs, defaulting to -Infinity or Infinity if empty
                const tempMin = parseFloat(tempMinInput.value) || -Infinity;
                const tempMax = parseFloat(tempMaxInput.value) || Infinity;
                const heatMin = parseFloat(heatMinInput.value) || -Infinity;
                const heatMax = parseFloat(heatMaxInput.value) || Infinity;
                const conductMin = parseFloat(conductMinInput.value) || -Infinity;
                const conductMax = parseFloat(conductMaxInput.value) || Infinity;
                const costMin = parseFloat(costMinInput.value) || -Infinity;
                const costMax = parseFloat(costMaxInput.value) || Infinity;

                // Filter the `allMaterialRows` array based on all active filter conditions
                filteredMaterialRows = allMaterialRows.filter(row => {
                    // Extract and parse data attributes from the current row for comparison
                    const rowType = row.dataset.type;
                    const rowTemp = parseTemperature(row.dataset.temp);
                    const rowHeat = parseFloat(row.dataset.heat);
                    const rowConduct = parseFloat(row.dataset.conduct);
                    const rowCost = parseFloat(row.dataset.cost);

                    // Check if each filter condition is met for the current row
                    const typeMatch = typeFilterValue === 'all' || rowType === typeFilterValue;

                    // For numerical filters, check if the row's value is within the min/max range.
                    // Also handles cases where row data might be NaN (Not-a-Number) and filter is wide open.
                    const tempMatch = (isNaN(rowTemp) && tempMin === -Infinity && tempMax === Infinity) || (rowTemp >= tempMin && rowTemp <= tempMax);
                    const heatMatch = (isNaN(rowHeat) && heatMin === -Infinity && heatMax === Infinity) || (rowHeat >= heatMin && rowHeat <= heatMax);
                    const conductMatch = (isNaN(rowConduct) && conductMin === -Infinity && conductMax === Infinity) || (rowConduct >= conductMin && rowConduct <= conductMax);
                    const costMatch = (isNaN(rowCost) && costMin === -Infinity && costMax === Infinity) || (rowCost >= costMin && rowCost <= costMax);

                    // A row is included in the filtered results only if ALL conditions are true
                    return typeMatch && tempMatch && heatMatch && conductMatch && costMatch;
                });

                currentPage = 1; // Reset to the first page whenever filters are applied
                renderMaterials(); // Display the materials for the newly filtered first page
                renderPaginationControls(); // Update the pagination buttons based on new filtered count
                loadingDiv.style.display = 'none'; // Hide loading indicator
            }, 100); // Short delay for UX
        }

        /**
         * Renders the subset of materials for the current page into the table.
         */
        function renderMaterials() {
            materialsList.innerHTML = ''; // Clear existing rows from the table body
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            // Slice the `filteredMaterialRows` array to get only the items for the current page
            const materialsToDisplay = filteredMaterialRows.slice(startIndex, endIndex);

            // Append each material row clone to the table body
            materialsToDisplay.forEach(row => {
                materialsList.appendChild(row.cloneNode(true)); // Clone to avoid moving original elements
            });

            // Update the displayed count of found materials
            resultCountSpan.textContent = `${filteredMaterialRows.length} materials found`;
        }

        /**
         * Renders and updates the pagination control buttons and page numbers.
         * It also hides the controls if only one page of results exists.
         */
        function renderPaginationControls() {
            const totalPages = Math.ceil(filteredMaterialRows.length / itemsPerPage);
            pageNumbersDiv.innerHTML = ''; // Clear previous page number buttons

            // Show or hide the entire pagination control div based on the number of pages
            if (totalPages <= 1) {
                paginationControls.style.display = 'none'; // Hide if only one page or no data
            } else {
                paginationControls.style.display = 'flex'; // Show if more than one page
            }

            // Disable/enable 'Previous' and 'Next' buttons based on the current page
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages;

            // Dynamically create page number buttons
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                // Apply Tailwind classes for styling
                pageButton.classList.add('px-3', 'py-1', 'rounded', 'hover:bg-blue-100', 'transition-colors', 'duration-200');
                if (i === currentPage) {
                    // Highlight the button for the current active page
                    pageButton.classList.add('bg-blue-600', 'text-white', 'hover:bg-blue-600');
                } else {
                    pageButton.classList.add('bg-gray-200', 'text-gray-800');
                }
                // Add click event listener to navigate to the selected page
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    renderMaterials();
                    renderPaginationControls();
                });
                pageNumbersDiv.appendChild(pageButton);
            }
        }

        /**
         * Resets all filter input fields to their default empty/all state.
         * Then, it triggers the filter application to show all original data.
         */
        function resetFilters() {
            typeFilter.value = 'all'; // Reset dropdown to 'All Types'
            tempMinInput.value = '';
            tempMaxInput.value = '';
            heatMinInput.value = '';
            heatMaxInput.value = '';
            conductMinInput.value = '';
            conductMaxInput.value = '';
            costMinInput.value = '';
            costMaxInput.value = '';
            applyFiltersAndPaginate(); // Reapply filters to show all data
        }

        /**
         * Function for the "Clear All" button, which simply calls resetFilters.
         */
        function clearAllFilters() {
            resetFilters();
        }

    </script>
</body>
</html>
